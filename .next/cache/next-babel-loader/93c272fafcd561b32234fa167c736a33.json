{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/nickmakuch/Documents/Code/nmakuch-portfolio/pages/index.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport Layout from \"../components/Layout\";\nexport default (function () {\n  var _useState = useState({\n    submitted: false,\n    submitting: false,\n    info: {\n      error: false,\n      msg: null\n    }\n  }),\n      status = _useState[0],\n      setStatus = _useState[1];\n\n  var _useState2 = useState({\n    email: \"\",\n    message: \"\"\n  }),\n      inputs = _useState2[0],\n      setInputs = _useState2[1];\n\n  var handleResponse = function handleResponse(status, msg) {\n    if (status === 200) {\n      setStatus({\n        submitted: true,\n        submitting: false,\n        info: {\n          error: false,\n          msg: msg\n        }\n      });\n      setInputs({\n        email: \"\",\n        message: \"\"\n      });\n    } else {\n      setStatus({\n        info: {\n          error: true,\n          msg: msg\n        }\n      });\n    }\n  };\n\n  var handleOnChange = function handleOnChange(e) {\n    e.persist();\n    setInputs(function (prev) {\n      return _objectSpread({}, prev, _defineProperty({}, e.target.id, e.target.value));\n    });\n    setStatus({\n      submitted: false,\n      submitting: false,\n      info: {\n        error: false,\n        msg: null\n      }\n    });\n  };\n\n  var handleOnSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(e) {\n      var res, text;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setStatus(function (prevStatus) {\n                return _objectSpread({}, prevStatus, {\n                  submitting: true\n                });\n              });\n              _context.next = 4;\n              return fetch(\"/api/send\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: _JSON$stringify(inputs)\n              });\n\n            case 4:\n              res = _context.sent;\n              _context.next = 7;\n              return res.text();\n\n            case 7:\n              text = _context.sent;\n              handleResponse(res.status, text);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleOnSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, __jsx(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, __jsx(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"col-md-12 col-sm-12\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: handleOnSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Email\"), __jsx(\"input\", {\n    id: \"email\",\n    type: \"email\",\n    onChange: handleOnChange,\n    required: true,\n    value: inputs.email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, __jsx(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    htmlFor: \"message\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Message\")), __jsx(\"textarea\", {\n    id: \"message\",\n    onChange: handleOnChange,\n    required: true,\n    value: inputs.message,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  })), __jsx(\"button\", {\n    type: \"submit\",\n    disabled: status.submitting,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, !status.submitting ? !status.submitted ? \"Submit\" : \"Submitted\" : \"Submitting...\")))))), status.info.error && __jsx(\"div\", {\n    className: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"Error: \", status.info.msg), !status.info.error && status.info.msg && __jsx(\"div\", {\n    className: \"success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, status.info.msg))));\n});","map":{"version":3,"sources":["/Users/nickmakuch/Documents/Code/nmakuch-portfolio/pages/index.js"],"names":["React","useState","Layout","submitted","submitting","info","error","msg","status","setStatus","email","message","inputs","setInputs","handleResponse","handleOnChange","e","persist","prev","target","id","value","handleOnSubmit","preventDefault","prevStatus","fetch","method","headers","body","res","text"],"mappings":";;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,gBAAe,YAAM;AAAA,kBACSD,QAAQ,CAAC;AACnCE,IAAAA,SAAS,EAAE,KADwB;AAEnCC,IAAAA,UAAU,EAAE,KAFuB;AAGnCC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,KAAK,EAAE,KAAT;AAAgBC,MAAAA,GAAG,EAAE;AAArB;AAH6B,GAAD,CADjB;AAAA,MACZC,MADY;AAAA,MACJC,SADI;;AAAA,mBAOSR,QAAQ,CAAC;AACnCS,IAAAA,KAAK,EAAE,EAD4B;AAEnCC,IAAAA,OAAO,EAAE;AAF0B,GAAD,CAPjB;AAAA,MAOZC,MAPY;AAAA,MAOJC,SAPI;;AAYnB,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACN,MAAD,EAASD,GAAT,EAAiB;AACtC,QAAIC,MAAM,KAAK,GAAf,EAAoB;AAClBC,MAAAA,SAAS,CAAC;AACRN,QAAAA,SAAS,EAAE,IADH;AAERC,QAAAA,UAAU,EAAE,KAFJ;AAGRC,QAAAA,IAAI,EAAE;AAAEC,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,GAAG,EAAEA;AAArB;AAHE,OAAD,CAAT;AAKAM,MAAAA,SAAS,CAAC;AACRH,QAAAA,KAAK,EAAE,EADC;AAERC,QAAAA,OAAO,EAAE;AAFD,OAAD,CAAT;AAID,KAVD,MAUO;AACLF,MAAAA,SAAS,CAAC;AACRJ,QAAAA,IAAI,EAAE;AAAEC,UAAAA,KAAK,EAAE,IAAT;AAAeC,UAAAA,GAAG,EAAEA;AAApB;AADE,OAAD,CAAT;AAGD;AACF,GAhBD;;AAkBA,MAAMQ,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,CAAC,EAAI;AAC1BA,IAAAA,CAAC,CAACC,OAAF;AACAJ,IAAAA,SAAS,CAAC,UAAAK,IAAI;AAAA,+BACTA,IADS,sBAEXF,CAAC,CAACG,MAAF,CAASC,EAFE,EAEGJ,CAAC,CAACG,MAAF,CAASE,KAFZ;AAAA,KAAL,CAAT;AAIAZ,IAAAA,SAAS,CAAC;AACRN,MAAAA,SAAS,EAAE,KADH;AAERC,MAAAA,UAAU,EAAE,KAFJ;AAGRC,MAAAA,IAAI,EAAE;AAAEC,QAAAA,KAAK,EAAE,KAAT;AAAgBC,QAAAA,GAAG,EAAE;AAArB;AAHE,KAAD,CAAT;AAKD,GAXD;;AAaA,MAAMe,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG,iBAAMN,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBA,cAAAA,CAAC,CAACO,cAAF;AACAd,cAAAA,SAAS,CAAC,UAAAe,UAAU;AAAA,yCAAUA,UAAV;AAAsBpB,kBAAAA,UAAU,EAAE;AAAlC;AAAA,eAAX,CAAT;AAFqB;AAAA,qBAGHqB,KAAK,CAAC,WAAD,EAAc;AACnCC,gBAAAA,MAAM,EAAE,MAD2B;AAEnCC,gBAAAA,OAAO,EAAE;AACP,kCAAgB;AADT,iBAF0B;AAKnCC,gBAAAA,IAAI,EAAE,gBAAehB,MAAf;AAL6B,eAAd,CAHF;;AAAA;AAGfiB,cAAAA,GAHe;AAAA;AAAA,qBAUFA,GAAG,CAACC,IAAJ,EAVE;;AAAA;AAUfA,cAAAA,IAVe;AAWrBhB,cAAAA,cAAc,CAACe,GAAG,CAACrB,MAAL,EAAasB,IAAb,CAAd;;AAXqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdR,cAAc;AAAA;AAAA;AAAA,KAApB;;AAcA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEA,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAEE;AACE,IAAA,EAAE,EAAC,OADL;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,QAAQ,EAAEP,cAHZ;AAIE,IAAA,QAAQ,MAJV;AAKE,IAAA,KAAK,EAAEH,MAAM,CAACF,KALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,EAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAO,IAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,EAIE;AACE,IAAA,EAAE,EAAC,SADL;AAEE,IAAA,QAAQ,EAAEK,cAFZ;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,KAAK,EAAEH,MAAM,CAACD,OAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAXF,EAsBE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,QAAQ,EAAEH,MAAM,CAACJ,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACI,MAAM,CAACJ,UAAR,GACG,CAACI,MAAM,CAACL,SAAR,GACE,QADF,GAEE,WAHL,GAIG,eALN,CAtBF,CADF,CADF,CADF,CADF,CADF,EAuCGK,MAAM,CAACH,IAAP,CAAYC,KAAZ,IACC;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA+BE,MAAM,CAACH,IAAP,CAAYE,GAA3C,CAxCJ,EA0CG,CAACC,MAAM,CAACH,IAAP,CAAYC,KAAb,IAAsBE,MAAM,CAACH,IAAP,CAAYE,GAAlC,IACC;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0BC,MAAM,CAACH,IAAP,CAAYE,GAAtC,CA3CJ,CADF,CADF,CADF;AAoDD,CA7GD","sourcesContent":["import React, { useState } from \"react\";\nimport Layout from \"../components/Layout\";\n\nexport default () => {\n  const [status, setStatus] = useState({\n    submitted: false,\n    submitting: false,\n    info: { error: false, msg: null }\n  });\n\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    message: \"\"\n  });\n\n  const handleResponse = (status, msg) => {\n    if (status === 200) {\n      setStatus({\n        submitted: true,\n        submitting: false,\n        info: { error: false, msg: msg }\n      });\n      setInputs({\n        email: \"\",\n        message: \"\"\n      });\n    } else {\n      setStatus({\n        info: { error: true, msg: msg }\n      });\n    }\n  };\n\n  const handleOnChange = e => {\n    e.persist();\n    setInputs(prev => ({\n      ...prev,\n      [e.target.id]: e.target.value\n    }));\n    setStatus({\n      submitted: false,\n      submitting: false,\n      info: { error: false, msg: null }\n    });\n  };\n\n  const handleOnSubmit = async e => {\n    e.preventDefault();\n    setStatus(prevStatus => ({ ...prevStatus, submitting: true }));\n    const res = await fetch(\"/api/send\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(inputs)\n    });\n    const text = await res.text();\n    handleResponse(res.status, text);\n  };\n\n  return (\n    <Layout>\n      <main>\n        <section>\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-md-12 col-sm-12\">\n                <div className=\"block\">\n                  <form onSubmit={handleOnSubmit}>\n                    <div>\n                      <label htmlFor=\"email\">Email</label>\n                      <input\n                        id=\"email\"\n                        type=\"email\"\n                        onChange={handleOnChange}\n                        required\n                        value={inputs.email}\n                      />\n                    </div>\n                    <div>\n                      <h5>\n                        <label htmlFor=\"message\">Message</label>\n                      </h5>\n                      <textarea\n                        id=\"message\"\n                        onChange={handleOnChange}\n                        required\n                        value={inputs.message}\n                      />\n                    </div>\n                    <button type=\"submit\" disabled={status.submitting}>\n                      {!status.submitting\n                        ? !status.submitted\n                          ? \"Submit\"\n                          : \"Submitted\"\n                        : \"Submitting...\"}\n                    </button>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n          {status.info.error && (\n            <div className=\"error\">Error: {status.info.msg}</div>\n          )}\n          {!status.info.error && status.info.msg && (\n            <div className=\"success\">{status.info.msg}</div>\n          )}\n        </section>\n      </main>\n    </Layout>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}